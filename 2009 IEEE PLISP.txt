
简介： 
           近几十年，无线传感器网络已经成为一个有趣并且重要的研究领域。时间同步作为分布式系统中关键的中间件服务。
       特别在无线传感器网络这样的分布式环境下，时间同步被充分运用到许多与时间精度相关的领域，例如数据融合，TDMA，周期性的休眠周期等。
       除此之外，同步精度成为了今天研究的一个关键性领域。与传统的在MAC层嵌入时间戳技术不同，本文提出了在PHY层嵌入时间戳的方案，通过在
       物理层PHY层嵌入时间戳从而能够最大程度的减少同步精度过程中的不可决定因素。
       
背景知识：

            由于无线传感器网络能够在现实和虚拟世界中架起沟通桥梁，这使得无线传感器网络越来越收到研究人员的关注。无线传感器网络的应用领域非常广泛，包括
       了地球物理监测，栖息地监测，冲突监测，智慧交通，军队系统，智慧办公等人类未来社会的各个方面。时间同步是无线传感器网络的一个基础性的中间件服务。          
       时间同步的目的是旨在尽最大可能使网络中的各个节点的时钟保持一致。它能够为其他的中间件服务例如数据融合，TDMA，定位，功耗管理，安全以及分布式日志提
       供同步服务。无线传感器网络与传统的有线网络相比，具备了如下几个特点：
              1: 能耗限制 ，无传感器网络节点的供电以及计算带宽有限。
              2: 应用领域， 用于不同的传感监测任务。
              3: 动态拓扑， 由于节点功能出问题导致网络拓扑结构动态变化。
              
            ZigBee是一个日益发展的无线传感器网络通信标准协议。它主要是由资源有限的传感节点组网而成。ZigBee整合了IEEE802.15.4标准，该标准定义了MAC-     
       layer和物理层的接口，并且ZigBee对于能耗的需求小。IEEE802.15.4标准能够在master－slave或者peer－to－peer网络配置下工作。其中的master－slave模 
       式普遍存在于基于传感器节点应用中。这些应用都是由一序列由主控制节点控制的从节点共同组合，例如智能家居或者安全系统。IEEE802.15.4提供一序列的特性
       去帮助能量保存。例如信标技术，长超帧技术以及带有能耗有效闲置模式的有担保的时间槽技术。
       
最近传统时间同步机制和工作：      

          1: 时间同步误差分析
             无线传感器网络高精度时间同步的最大因素就是非确定因素。对这些非确定因素进行分析，可以分为如下6个部分，如下： 
             1:send time： 对于发送者，该误差主要发生在同步packet从app应用层开始组装并逐层封装传递到MAC层所耗费的时间。该时间主要受发送者操作系统回调
                           以及cpu负载所影响。这是一个非确定的延迟部分。
             2：access time： 该误差发送在packet到达MAC层后，等待扫描信道是否空闲的等待时间。这是6个非确定因素中最难以测量或者估计的部分。它是由信道  
                            的实际通信情况所决定。
             3：transmission time： 该误差发生在发送者将packet从phy层上逐bit发送所耗费时间。该时间完全由发送者的发送速率以及packet长度所决定。
             
             4: propagation time： 发送者通过无线信道，从空中通过电磁场将packet以二进制的形式发送到接受者所耗费的时间，该时间受发送者和接受者距离所
                                   决定，是一个确定部分。
             5: reception time: 接受者接受packet花费的时间值。这个与transmission time 一样，跟packet的length以及接受者的接受波特baud速率有关。
             6: receive time： 接受者从接受packet并逐层拆包处理传递到应用层所花费的时间。这个与send time的特性是相反的。
             
          目前存在的时间同步协议例如GPS和NTP都是需要强大的硬件设备进行支持。这个特性完全不符合目前的无线传感器网络的应用。
          
          2: 传统时间同步算法的介绍和比较
          在计算机网络上，已经存在并实现了一序列的算法和协议。其中NTP是最广泛运用的计算机同步协议。该协议需要很强的计算和处理资源，
          并且它的容错能力不强，这些特点完全不适合我们现在正在研究的无线传感器网络。幸运的是，在科研人员的不断创新和实现后，
          目前已经存在不少的适合无线传感网络的时间同步算法。这些同步算法主要分为2大类。分别为集中式同步和分布式同步。
          其中的集中式同步经典算法有RBS,TPSN和FTPS等。
          RBS是receiver－receiver的同步算法的优秀代表，该算法与sender－receiver机制的算法相比，能够比较明显地排除发送者这边存在的不确定因素。
          原因在于该算法能够有效消除关键路径上的一大部分，极大地减少同步误差。但RBS的缺点就是需要极大的功耗损耗。
          而且发起节点不能够跟其他节点共同同步。然而RBS算法却对后面的其他算法有很大影响。
          与RBS不同，TPSN是sender－receiver机制的典型代表算法，TPSN算法利用在MAC层上嵌入时间戳的技术，能够最大程度地减少同步误差。
          TPSN的作者宣称该算法的同步精度是RBS的同步精度2倍。TPSN算法主要分为2大阶段，第一阶段时层次发现建立，从root节点发起分层广播，
          在广播通信范围内的节点记为第一层。之后每一上层依次往周围广播建立下一层，通过这种方式，逐渐在全网内分好层。
          第二阶段就是在分好层的全网发起同步，从root节点发起，依次与下一层节点进行同步。但是由于需要广播分层以及双向同步，
          其能耗损耗大并且由于全网最终同步到root节点，一旦root出现稳健性不够。
          
          
          
          
          
          
          
           
           
           
           
           
           
           
           
           
           
                    
                    
                    
                    
      
